spring:
  application:
    name: consumer-service
  profiles:
    active: dev
  cloud:
    #配置服务客户端，这里的name、profile、label可以覆盖默认的配置文件url
    config:
      enabled: true
      username: user
      password: 123456
      name: consumer
      profile: dev
      label: master
      uri: http://localhost:8888/
      #快速失败
      failFast: true
      #配置服务不可用时的重试策略
      retry:
        initialInterval: 1000
        maxInterval: 90000
        maxAttempts: 5
      #配置服务请求读取超时
      request-read-timeout: 5000

eureka:
  client:
      fetch-registry: true
      register-with-eureka: true
      eureka-server-connect-timeout-seconds: 20
      eureka-connection-idle-timeout-seconds: 20
      service-url:
        defaultZone: http://user:peer1@localhost:9999/eureka,http://user:peer2@localhost:9998/eureka,http://user:peer3@localhost:9997/eureka
  instance:
      appname: consumer-service
      app-group-name: consumer-service
      prefer-ip-address: true
      instance-id: ${spring.cloud.client.ip-address}:${random.int[1024,65536]}
#当服务实例端口随机分配时，即server.port=0，此时${server.port}也为0，会导致多个服务实例采用同一id


