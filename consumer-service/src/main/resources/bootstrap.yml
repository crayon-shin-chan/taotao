spring:
  application:
    name: consumer-service
  profiles:
    active: dev
  cloud:
    #配置服务客户端
    config:
      enabled: true
      name: consumer
      profile: dev
      label: master
      uri: http://localhost:8888/
      failFast: true
      retry:
        initialInterval: 1000
        maxInterval: 90000
        maxAttempts: 5

eureka:
  client:
      fetch-registry: false
      register-with-eureka: false
      eureka-server-connect-timeout-seconds: 20
      eureka-connection-idle-timeout-seconds: 20
      service-url:
            defaultZone: http://localhost:9999/eureka
  instance:
      appname: consumer-service
      app-group-name: consumer-service
      prefer-ip-address: true
      instance-id: ${spring.cloud.client.ip-address}:${random.int[1024,65536]}
#当服务实例端口随机分配时，即server.port=0，此时${server.port}也为0，会导致多个服务实例采用同一id


